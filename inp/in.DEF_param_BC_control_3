# LAMMPS INPUT FILE DEFINING THE PARAMETERS AND FLAGS FOR BOUNDARY CONDITIONS CONTROL FOR 3D GRANULAR SYSTEMS
# file: in.DEF_param_BC_control
# author: JBC @ NORTHWESTERN UNIVERSITY, (jibril.coulibaly@gmail.com)
#
# THIS IS A DEF SCRIPT, ALL VARIABLES AND COMPUTES IN THIS SUBSCRIPT ARE GLOBAL AND GIVEN DEFAULT VALUES THAT CAN BE OVERWRITTEN LOCALLY IN THE MAIN SCRIPT
# THIS SCRIPT MUST ONLY BE CALLED ONE TIME
#
#
# INFO :
# - 
#
# TODO:
# - WE MUST MAKE SURE THE SELECTION BETWEEN WALLS AND PBC IS SAFE, RIGHT NOW A SIMULATION RPEPARED WITH WALLS CAN RUN WITH PBC AND THE OPPOSITE AS WELL (CREATING A BIGGER MESS THIS LATTER WAY)
# - CREATE DEFAULT VALUES OF THE VARIABLES THAT ARE CHANGED BY THE PRESET FiLES

# ---- FLAGS ---- #

variable BC_XX_STRESS_CONTROLLED equal false # BC in XX axis is: true=stress-controlled, false=strain-controlled
variable BC_YY_STRESS_CONTROLLED equal false # BC in YY axis is: true=stress-controlled, false=strain-controlled
variable BC_ZZ_STRESS_CONTROLLED equal false # BC in ZZ axis is: true=stress-controlled, false=strain-controlled
variable BC_XY_STRESS_CONTROLLED equal false # BC in XY axis is: true=stress-controlled, false=strain-controlled. This flag must be false (strain-controlled) when using walls and the associated value must be zero because tilt is not allowed when using frictionless walls
variable BC_XZ_STRESS_CONTROLLED equal false # BC in XZ axis is: true=stress-controlled, false=strain-controlled. This flag must be false (strain-controlled) when using walls and the associated value must be zero because tilt is not allowed when using frictionless walls
variable BC_YZ_STRESS_CONTROLLED equal false # BC in YZ axis is: true=stress-controlled, false=strain-controlled. This flag must be false (strain-controlled) when using walls and the associated value must be zero because tilt is not allowed when using frictionless walls

variable REMAP equal true # Remapping of coordinates during boundary control false=no remapping (for walls) ; true=remapping (for PBC and for initial uniform isotropic compression)
variable SHEARRELAX equal false # Shear/tilt coordinates of the box are relaxed when PBC are used. true=shear relaxed ; false=no tilt, shear stress present. MUST BE DEFINED BEFORE CALLING THE PRESETS
variable BC_CONTROL equal false # If BC CONTROL IS CURRENTLY ACTIVE. false=not active, true=active

# ---- PARAMETERS ---- #

variable BC_XX_TARGET equal 0.0 # Target value of STRESS or STRAIN in XX axis
variable BC_YY_TARGET equal 0.0 # Target value of STRESS or STRAIN in YY axis
variable BC_ZZ_TARGET equal 0.0 # Target value of STRESS or STRAIN in ZZ axis
variable BC_XY_TARGET equal 0.0 # Target value of STRESS or STRAIN in XY axis. This value should be zero (0) in most cases: zero strain with walls or PBC, zero stress in shear-relaxed PBC
variable BC_XZ_TARGET equal 0.0 # Target value of STRESS or STRAIN in XZ axis. This value should be zero (0) in most cases: zero strain with walls or PBC, zero stress in shear-relaxed PBC
variable BC_YZ_TARGET equal 0.0 # Target value of STRESS or STRAIN in YZ axis. This value should be zero (0) in most cases: zero strain with walls or PBC, zero stress in shear-relaxed PBC

variable BC_vprev_factor equal 0.8 # pre-factor of the velocity carried over from previous iteration in stress-controlled boundary
variable BC_gain equal 1e-2 # Gain pre-factor on stiffness in stress-controlled boundary
variable BC_damping equal 0.25 # Damping value of boundary





